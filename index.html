<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🎉 Happy Birthday!</title>
  <meta name="description" content="A creative, customizable birthday web card with photos, confetti, balloons & music."/>
  <style>
    :root{
      --bg1:#ffe6f1; --bg2:#e7f5ff; --bg3:#fff7e6;
      --ink:#1f2937; --muted:#6b7280; --accent:#ff5fa2; --accent2:#7c3aed; --accent3:#22c55e;
      --card:#ffffffcc; --shadow:0 10px 30px rgba(0,0,0,.10);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink); overflow-x:hidden;
      background: radial-gradient(1200px 800px at 10% 10%, var(--bg1), transparent),
                  radial-gradient(1000px 700px at 90% 20%, var(--bg2), transparent),
                  radial-gradient(900px 700px at 50% 100%, var(--bg3), transparent),
                  #fff;
    }
    header{
      position:relative; padding:24px 18px 0; text-align:center;
    }
    .title{font-size:clamp(28px,4vw,48px); font-weight:800; letter-spacing:.5px; margin:0}
    .subtitle{margin:.25rem 0 1rem; color:var(--muted)}.card{
  width:min(1000px, 94vw);
  margin: 14px auto 28px;
  background:var(--card); backdrop-filter: blur(8px);
  border-radius:24px; box-shadow:var(--shadow); border:1px solid rgba(0,0,0,.06);
  overflow:hidden;
}
.card-inner{padding:20px; padding-bottom:6px}

.hero{
  display:grid; grid-template-columns: 1.1fr .9fr; gap:16px;
}
@media (max-width: 860px){ .hero{ grid-template-columns:1fr; } }

.headline{
  background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  font-size:clamp(40px,7vw,76px); line-height:1.05; font-weight:900; margin:8px 0 12px;
}
.typewriter{border-right:3px solid currentColor; white-space:nowrap; overflow:hidden}

.controls{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:6px;
}
.btn{appearance:none; border:none; border-radius:999px; padding:10px 14px; font-weight:700; cursor:pointer;
     background:#111827; color:#fff; box-shadow:var(--shadow); transition:transform .08s ease, filter .2s}
.btn:hover{transform:translateY(-1px); filter:brightness(1.05)}
.btn.secondary{background:#fff; color:#111827; border:1px solid rgba(0,0,0,.08)}
.btn.ghost{background:transparent; color:#111827; border:1px dashed rgba(0,0,0,.25)}

.input{padding:10px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.12); min-width:220px}
.field{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
label{font-size:.9rem; color:var(--muted)}

.gallery-wrap{margin-top:8px}
.dropzone{
  border:2px dashed rgba(0,0,0,.18); border-radius:18px;
  padding:16px; text-align:center; background:#fff; cursor:pointer;
}
.dropzone.drag{border-color: var(--accent); background:linear-gradient(0deg,#fff, #fff6)}

.carousel{ display:flex; gap:12px; overflow-x:auto; padding:12px 4px 18px; scroll-snap-type:x mandatory}
.carousel::-webkit-scrollbar{ height:10px }
.carousel::-webkit-scrollbar-thumb{ background:#d1d5db; border-radius:999px }

.polaroid{ position:relative; background:#fff; padding:8px 8px 30px; border-radius:14px; box-shadow:0 10px 20px rgba(0,0,0,.12);
           transform: rotate(var(--rot, 0deg)); scroll-snap-align:center; user-select:none }
.polaroid img{ display:block; height:220px; width:auto; border-radius:10px; object-fit:cover }
.polaroid small{ position:absolute; bottom:6px; left:0; right:0; text-align:center; color:#6b7280; font-weight:600 }

.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index:50 }
.lightbox.open{ display:flex }
.lightbox img{ max-width:92vw; max-height:86vh; border-radius:12px; box-shadow:0 20px 50px rgba(0,0,0,.5) }

/* Balloons */
.balloon{ position:fixed; bottom:-120px; width:60px; height:80px; border-radius:30px 30px 30px 30px/40px 40px 30px 30px;
          box-shadow:inset -8px -12px 0 rgba(0,0,0,.06); z-index:2; opacity:.9 }
.string{ position:absolute; left:50%; bottom:-40px; width:2px; height:40px; background:#11182730 }

/* Confetti canvas sits at top */
#fxCanvas{ position:fixed; inset:0; pointer-events:none; z-index:10 }

footer{ text-align:center; padding:14px; color:#9ca3af; font-size:.9rem }
.note{font-size:.85rem; color:#6b7280}

  </style>
</head>
<body>
  <canvas id="fxCanvas"></canvas>
  <header>
    <h1 class="title">🎂 A Tiny Web-App to Wish Happy Birthday</h1>
    <p class="subtitle">Drop photos, add a message & trigger confetti, balloons, and music — then share the link!</p>
  </header>  <main class="card" role="main">
    <div class="card-inner">
      <section class="hero" aria-label="Greeting">
        <div>
          <div class="field">
            <label for="who">To:</label>
            <input class="input" id="who" placeholder="Their Name (e.g., Sam)" />
          </div>
          <h2 id="headline" class="headline typewriter">Happy Birthday, <span id="nameSpan">Friend</span>! ✨</h2>
          <div class="field" style="margin:.3rem 0 0">
            <label for="msg">Message:</label>
            <input class="input" id="msg" placeholder="Write a short wish…" />
          </div>
          <p id="messageOut" style="font-size:clamp(16px,2.2vw,20px); margin:.6rem 0 1rem; color:#374151"></p>
          <div class="controls">
            <button id="surpriseBtn" class="btn">🎉 Surprise</button>
            <button id="balloonBtn" class="btn secondary">🎈 Balloons</button>
            <button id="confettiBtn" class="btn secondary">🎊 Confetti</button>
            <button id="musicBtn" class="btn ghost">🎵 Music</button>
            <button id="shareBtn" class="btn ghost">🔗 Share</button>
          </div>
          <p class="note">Tip: Personalize via URL too → <code>?name=Sam&msg=Have%20a%20blast!</code></p>
        </div>
        <div>
          <div class="gallery-wrap" aria-label="Photos">
            <label class="dropzone" id="dropzone">
              <strong>📸 Add Photos</strong><br/>
              <small>Click to pick, or drag & drop multiple images here</small>
              <input id="fileInput" type="file" accept="image/*" multiple hidden />
            </label>
            <div class="field" style="margin:.4rem 0 0">
              <label for="imgUrl">Add by URL:</label>
              <input id="imgUrl" class="input" placeholder="https://example.com/photo.jpg" />
              <button id="addUrlBtn" class="btn secondary">Add</button>
            </div>
            <div class="carousel" id="carousel" aria-live="polite" aria-label="Photo carousel"></div>
          </div>
        </div>
      </section>
    </div>
  </main>  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Photo preview">
    <img alt="Preview" />
  </div>  <footer>
    Made with 💛 — Put this file on GitHub Pages to share. (Replace music or tweak colors as you like.)
  </footer>  <script>
    // --- Helpers ---
    const qs = (s, r=document)=>r.querySelector(s);
    const qsa = (s, r=document)=>[...r.querySelectorAll(s)];
    const nameSpan = qs('#nameSpan');
    const who = qs('#who');
    const msgIn = qs('#msg');
    const msgOut = qs('#messageOut');
    const headline = qs('#headline');

    // URL params → state
    const params = new URLSearchParams(location.search);
    const initialName = params.get('name') || 'Friend';
    const initialMsg  = params.get('msg')  || '';
    who.value = initialName; nameSpan.textContent = initialName;
    msgIn.value = initialMsg; msgOut.textContent = initialMsg;

    who.addEventListener('input', e=> nameSpan.textContent = e.target.value.trim() || 'Friend');
    msgIn.addEventListener('input', e=> msgOut.textContent = e.target.value);

    // Typewriter effect
    (function typewriter(){
      const text = headline.textContent; let i=0; headline.textContent='';
      const tick=()=>{ headline.textContent += text[i++]; if(i<text.length) requestAnimationFrame(()=>setTimeout(tick, 18)); else headline.classList.remove('typewriter'); };
      setTimeout(tick,120);
    })();

    // --- Gallery (drop/upload/URL) ---
    const dropzone = qs('#dropzone');
    const fileInput = qs('#fileInput');
    const carousel = qs('#carousel');
    dropzone.addEventListener('click', ()=> fileInput.click());

    const prevent = e=>{ e.preventDefault(); e.stopPropagation(); };
    ['dragenter','dragover'].forEach(ev=> dropzone.addEventListener(ev, e=>{prevent(e); dropzone.classList.add('drag');}));
    ;['dragleave','drop'].forEach(ev=> dropzone.addEventListener(ev, e=>{prevent(e); dropzone.classList.remove('drag');}));

    dropzone.addEventListener('drop', e=> handleFiles(e.dataTransfer.files));
    fileInput.addEventListener('change', e=> handleFiles(e.target.files));

    function handleFiles(files){
      [...files].forEach(file=>{
        if(!file.type.startsWith('image/')) return;
        const reader = new FileReader();
        reader.onload = ev=> addPolaroid(ev.target.result, file.name.replace(/\.[^.]+$/, ''));
        reader.readAsDataURL(file);
      })
    }

    // Add by URL
    qs('#addUrlBtn').addEventListener('click', ()=>{
      const url = qs('#imgUrl').value.trim(); if(!url) return;
      addPolaroid(url, ''); qs('#imgUrl').value='';
    });

    // Lightbox
    const lightbox = qs('#lightbox');
    lightbox.addEventListener('click', ()=> lightbox.classList.remove('open'));

    function addPolaroid(src, caption=''){
      const d = document.createElement('div');
      d.className = 'polaroid';
      const r = (Math.random()-.5)*6; d.style.setProperty('--rot', r+'deg');
      const img = new Image(); img.src = src; img.alt = caption || 'Photo';
      img.addEventListener('click', ()=>{ lightbox.querySelector('img').src = src; lightbox.classList.add('open'); });
      const cap = document.createElement('small'); cap.textContent = caption || who.value || 'Friend';
      d.appendChild(img); d.appendChild(cap);
      carousel.appendChild(d);
    }

    // --- Effects: Confetti & Balloons ---
    const fxCanvas = qs('#fxCanvas');
    const ctx = fxCanvas.getContext('2d');
    function resize(){ fxCanvas.width = innerWidth; fxCanvas.height = innerHeight }
    addEventListener('resize', resize); resize();

    const confetti = [];
    function spawnConfetti(n=200){
      for(let i=0;i<n;i++){
        confetti.push({
          x: Math.random()*fxCanvas.width,
          y: -20 - Math.random()*innerHeight,
          s: 6+Math.random()*6,
          r: Math.random()*360,
          v: 1+Math.random()*3,
          w: (Math.random()*.08)+.02
        });
      }
    }

    let balloonsOn=false; let confettiOn=false; let rafId=null;
    function loop(){
      ctx.clearRect(0,0,fxCanvas.width, fxCanvas.height);
      // confetti
      if(confetti.length){ confettiOn=true } else { confettiOn=false }
      ctx.save();
      confetti.forEach(p=>{
        p.y += p.v; p.r += p.w*60; p.x += Math.sin(p.y*0.01);
        if(p.y>fxCanvas.height+40) p.y=-20, p.x=Math.random()*fxCanvas.width;
        ctx.translate(p.x, p.y); ctx.rotate(p.r*Math.PI/180);
        ctx.fillStyle = `hsl(${(p.r*2)%360} 90% 60%)`;
        ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s*0.6);
        ctx.setTransform(1,0,0,1,0,0);
      });
      ctx.restore();
      rafId = requestAnimationFrame(loop);
    }
    loop();

    function toggleBalloons(){
      balloonsOn = !balloonsOn;
      if(balloonsOn){
        for(let i=0;i<10;i++) releaseBalloon();
      } else {
        qsa('.balloon').forEach(b=> b.remove());
      }
    }
    function releaseBalloon(){
      if(!balloonsOn) return;
      const b = document.createElement('div'); b.className='balloon';
      const hue = Math.floor(Math.random()*360);
      b.style.background = `hsl(${hue} 90% 65%)`;
      b.style.left = Math.random()*100 + 'vw';
      const dur = 10 + Math.random()*12;
      b.style.transition = `transform ${dur}s linear, opacity .8s`;
      const s = document.createElement('div'); s.className='string'; b.appendChild(s);
      document.body.appendChild(b);
      requestAnimationFrame(()=>{ b.style.transform = `translateY(-120vh) translateX(${(Math.random()*2-1)*80}px)`; });
      setTimeout(()=>{ b.remove(); if(balloonsOn) releaseBalloon(); }, dur*1000);
    }

    // Buttons
    qs('#confettiBtn').addEventListener('click', ()=> spawnConfetti(240));
    qs('#balloonBtn').addEventListener('click', toggleBalloons);
    qs('#surpriseBtn').addEventListener('click', ()=>{ spawnConfetti(320); if(!balloonsOn){ toggleBalloons(); setTimeout(toggleBalloons, 9000);} playMelody(); });

    // --- Tiny WebAudio melody (no external file needed) ---
    let audioCtx;
    function playMelody(){
      try{
        audioCtx = audioCtx || new (window.AudioContext||window.webkitAudioContext)();
        const now = audioCtx.currentTime;
        const notes = [
          // simple cheerful line (C major)
          [261.63,.23,0],[329.63,.23,.06],[392.00,.23,.12],[523.25,.38,.18],
          [440.00,.24,.60],[392.00,.24,.66],[349.23,.28,.72],[392.00,.36,.80]
        ];
        notes.forEach(([freq,len,off], i)=>{
          const o = audioCtx.createOscillator();
          const g = audioCtx.createGain(); g.gain.setValueAtTime(0.0001, now+off);
          g.gain.exponentialRampToValueAtTime(.25, now+off+.02);
          g.gain.exponentialRampToValueAtTime(0.001, now+off+len);
          o.frequency.value=freq; o.type='triangle';
          o.connect(g); g.connect(audioCtx.destination);
          o.start(now+off); o.stop(now+off+len+.02);
        });
      }catch(e){ console.warn(e) }
    }
    qs('#musicBtn').addEventListener('click', playMelody);

    // --- Share button (updates URL with params) ---
    qs('#shareBtn').addEventListener('click', async ()=>{
      const u = new URL(location.href);
      if(who.value) u.searchParams.set('name', who.value);
      if(msgIn.value) u.searchParams.set('msg', msgIn.value);
      history.replaceState({}, '', u.toString());
      try{
        await navigator.clipboard.writeText(u.toString());
        alert('Link copied! Share it 🎁');
      }catch{ prompt('Copy this link:', u.toString()); }
    });

    // Keyboard: spacebar triggers confetti
    addEventListener('keydown', e=>{ if(e.code==='Space'){ spawnConfetti(200) } });

    // If there are images in query (img=URL can repeat)
    const imgParams = params.getAll('img');
    if(imgParams.length){ imgParams.forEach(url=> addPolaroid(url)); }
  </script>  <!--
  =============================
   QUICK DEPLOY (GitHub Pages)
  =============================
  1) Create a new GitHub repo (Public) named anything you like.
  2) Add this file as index.html and commit.
  3) In repo Settings → Pages, set Source = Deploy from a branch, and pick the default branch root.
  4) Wait a minute; your site will be live at: https://<your-username>.github.io/<repo>/
     You can personalize via URL: ?name=Sam&msg=Have%20a%20blast!&img=https://…&img=https://…
  5) Visitors can add photos on the page itself (no backend needed).

  Customize colors: tweak CSS variables at the top (e.g., --accent, --accent2, --accent3).
  Replace sound: change WebAudio melody code or add an <audio src="song.mp3" autoplay hidden> and call play().
  --></body>
</html>
